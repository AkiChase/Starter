import{_ as o,W as d,X as c,Y as e,Z as a,$ as s,a1 as r,a0 as l,C as n}from"./framework-c8ebc670.js";const p={},b={class:"hint-container warning"},u=e("p",{class:"hint-container-title"},"注意",-1),m={href:"https://github.com/iseahound/ImagePut/wiki/Crop,-Scale,-&-Other-Flags",target:"_blank",rel:"noopener noreferrer"},v=l(`<h1 id="剪裁、缩放和其他标志" tabindex="-1"><a class="header-anchor" href="#剪裁、缩放和其他标志" aria-hidden="true">#</a> 剪裁、缩放和其他标志</h1><h3 id="用法" tabindex="-1"><a class="header-anchor" href="#用法" aria-hidden="true">#</a> 用法</h3><p>指定为对象键以覆盖所有可能的输入。<code>image</code></p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">ImagePutWindow({image: &quot;cats.jpg&quot;, scale: 2})</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,4),g=e("code",null,"file",-1),h=l(`<div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">ImagePutWindow({file: &quot;cats.jpg&quot;, scale: 2})</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="剪裁-crop" tabindex="-1"><a class="header-anchor" href="#剪裁-crop" aria-hidden="true">#</a> 剪裁 Crop</h3><p>传递一个 [x、y、w、h] 数组。所有四个成员都是必需的。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">; 剪裁到从 (100, 100) 处开始的 250 x 250 像素的图像。</span></span>
<span class="line"><span style="color:#abb2bf;">ImagePutWindow({image: &quot;cats.jpg&quot;, crop: [100, 100, 250, 250]})</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>任何负值都会被解释为“从边缘开始”。宽度和高度分别对应右边和下边。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">; 从每个边缘裁剪 10 像素。</span></span>
<span class="line"><span style="color:#abb2bf;">ImagePutWindow({image: &quot;cats.jpg&quot;, crop: [-10, -10, -10, -10]})</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果这些值中有任何一个是百分比，它们应该作为字符串输入。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">; 从每个边缘裁剪 10%。</span></span>
<span class="line"><span style="color:#abb2bf;">ImagePutWindow({image: &quot;cats.jpg&quot;, crop: [&quot;-10%&quot;, &quot;-10%&quot;, &quot;-10%&quot;, &quot;-10%&quot;]})</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>指定的剪裁数组比原始文件大不会发生什么。将忽略超出边界的值。</p><h3 id="缩放-scale" tabindex="-1"><a class="header-anchor" href="#缩放-scale" aria-hidden="true">#</a> 缩放 Scale</h3><p>传递一个正实数。缩放算法使用 GDI+ HighQualityBicubic。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">; 缩放倍数为2.5倍。</span></span>
<span class="line"><span style="color:#abb2bf;">ImagePutWindow({image: &quot;cats.jpg&quot;, scale: 2.5})</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>要缩放到特定的宽度和高度，请使用 2 成员数组。宽度和高度必须是整数值。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">; 调整大小为640 x 480。</span></span>
<span class="line"><span style="color:#abb2bf;">ImagePutWindow({image: &quot;cats.jpg&quot;, scale: [640, 480]})</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>要计算缺失的边，请使用大小数组，并将参数替换为任何字符串。这将保持原始纵横比。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">; 缩放高度为480像素。</span></span>
<span class="line"><span style="color:#abb2bf;">ImagePutWindow({image: &quot;cats.jpg&quot;, scale: [&quot;&quot;, 480]})</span></span>
<span class="line"><span style="color:#abb2bf;">ImagePutWindow({image: &quot;cats.jpg&quot;, scale: [&quot;auto&quot;, 480]}) ; 更易于理解。</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="解码-decode" tabindex="-1"><a class="header-anchor" href="#解码-decode" aria-hidden="true">#</a> 解码 Decode</h3><p>当设置为 true 时，禁用快速流转换。影响：pdf、url、file、stream、randomaccessstream、base64 和 hex。默认值为 false。</p><p>启用此标志将删除原始文件编码，包括原始文件格式的任何压缩增益。这可能有助于验证像素数据的内容，否则将保持未检查状态。会降低转换速度。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">; 图像将解码为像素数据并重新编码为 PNG。</span></span>
<span class="line"><span style="color:#abb2bf;">str := ImagePutBase64({image: &quot;cats.jpg&quot;, decode: True})</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span>
<span class="line"><span style="color:#abb2bf;">; 设置全局解码标志。</span></span>
<span class="line"><span style="color:#abb2bf;">ImagePut.decode := True ; 默认值为 false。</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="验证-validate" tabindex="-1"><a class="header-anchor" href="#验证-validate" aria-hidden="true">#</a> 验证 Validate</h3><p>立即通过将位图加载到内存中检查像素数据。将来，这可能会检查流数据的标头。</p><p>如果调用：<code>ImagePutBitmap</code></p><ul><li>如果启用，则对位图调用：<code>GdipValidateImage</code>。</li><li>强制将图像加载到内存中。（糟糕：增加了峰值内存使用量。）</li><li>避免返回对图像数据的引用。（好：防止多个引用导致数据竞争。）</li><li>避免通过读取时复制或写入时复制实现延迟渲染。（好：立即加载图像数据可防止将意外修改复制。）</li><li>附带的一项副作用是立即将图像加载到内存中，意味着对原始图像数据的任何修改都不会被复制过来。</li><li>修复了一种罕见的错误，即位图克隆的位图克隆（2 层引用）在从流中解码图像时可能会导致数据竞争。</li><li>当返回 GDI+ 位图时，建议将此标志设置为 true，因为在位图的立即创建之后的任何时候调用都会导致秘密失败。<code>validate\`\`GdipValidateImage\`\`GdipValidateImage</code></li></ul><p>默认值为 false，这意味着在需要时拉取像素数据，以节省内存并加快速度。除非满足上述条件，否则不需要将此标志设置为 true。</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#abb2bf;">; 立即将 cats.jpg 加载到内存中。</span></span>
<span class="line"><span style="color:#abb2bf;">pBitmap := ImagePutBitmap({image: &quot;cats.jpg&quot;, validate: true})</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span>
<span class="line"><span style="color:#abb2bf;">; 设置全局验证标志。</span></span>
<span class="line"><span style="color:#abb2bf;">ImagePut.validate := True ; 默认值为 false。</span></span>
<span class="line"><span style="color:#abb2bf;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,26);function f(x,y){const i=n("ExternalLinkIcon"),t=n("RouterLink");return d(),c("div",null,[e("div",b,[u,e("p",null,[a("本文仅仅翻译"),e("a",m,[a("Crop, Scale, & Other Flags · iseahound/ImagePut Wiki (github.com)"),s(i)]),a("，可能存在不准确的地方，仅供参考，请以原 wiki 文档为准。")])]),v,e("p",null,[a("或使用 "),s(t,{to:"/dev/others/image-put-doc-2.html#%E8%BE%93%E5%85%A5%E7%B1%BB%E5%9E%8B"},{default:r(()=>[a("特定的数据类型")]),_:1}),a("，例如："),g]),h])}const q=o(p,[["render",f],["__file","image-put-doc-1.html.vue"]]);export{q as default};
